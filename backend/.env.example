# Callify Backend Environment Variables
# ==========================================
# IMPORTANT: Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# ==========================================

# Server Configuration
PORT=3001
NODE_ENV=development  # Set to 'production' in production

# Frontend URL (for CORS and email links)
FRONTEND_URL=http://localhost:5173

# ==========================================
# SECURITY - REQUIRED IN PRODUCTION
# ==========================================

# JWT Configuration - MUST be a strong random secret (minimum 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=

# n8n API Key - Protects n8n integration endpoints
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
N8N_API_KEY=

# Developer Account Credentials (optional - will generate random if not set)
DEV_USERNAME=dev
DEV_PASSWORD=

# ==========================================
# DATABASE (Supabase)
# ==========================================
SUPABASE_URL=your-supabase-url
SUPABASE_ANON_KEY=your-supabase-anon-key

# ==========================================
# EMAIL (Resend - for password reset emails)
# ==========================================
RESEND_API_KEY=
RESEND_FROM_EMAIL=AI CoachCall <noreply@aicoachcall.com>

# ==========================================
# REDIS (Optional - for persistent rate limiting)
# ==========================================
# If not configured, rate limiting uses in-memory storage (resets on restart)
# Railway: Add Redis service and use the REDIS_URL from Railway
# Example: redis://default:password@host:port
REDIS_URL=

# ==========================================
# EXTERNAL SERVICES (Optional)
# ==========================================

# OpenAI Configuration (for transcription and AI analysis)
OPENAI_API_KEY=

# Twilio Configuration (for telephony webhooks)
# IMPORTANT: TWILIO_AUTH_TOKEN is REQUIRED in production for webhook signature verification!
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# Telnyx Configuration (alternative to Twilio)
TELNYX_API_KEY=
TELNYX_PUBLIC_KEY=

# ==========================================
# APPLICATION SETTINGS
# ==========================================

# File Storage
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=52428800

# Retention Policy (days before calls are auto-deleted)
RETENTION_DAYS=60

# Alert Thresholds
LOW_SCORE_THRESHOLD=5.0
LONG_CALL_THRESHOLD_SECONDS=1800
MIN_CALL_DURATION_SECONDS=10
